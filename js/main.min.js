var game={settings:{countOpen:1,selectedOpt:new Array,tempArray:new Array,addedCard:new Array,scoreMatch:0,scoreWrong:0,msgMatch:["Yay","Nice one","Cool"],msgWrong:["Booo","Need brain food?","Ahem!"]},init:function(){console.log("//game initialized//"),game.events(),game.setup(),game.cardClick()},events:function(){$(document).on("keydown",function(e){var t=e.keyCode;66==t&&($(".boss").toggle(),"none"==$(".boss").css("display")?$(".game").show():$(".game").hide())})},createWebSocket:function(){var e=new ActiveXObject("WScript.Network");alert(e.UserName);var t=new WebSocket("ws://echo.websocket.org/"),n=0;t.onopen=function(){console.log("open"),t.send("hello echo"),t.send("hello echo 2")},t.onmessage=function(e){console.log(e.data),2==++n&&t.close()},t.onclose=function(){console.log("socket close")}},resetGame:function(){location.reload()},setHexColors:function(){var e;$.each(cardData,function(t,n){for(t=0;t<cardData.length;t++)e="#"+(16777215*Math.random()<<0).toString(16),n.color=e})},shuffleCards:function(e){for(var t=0;t<e.length;t++){var n=Math.floor(Math.random()*(e.length-t)),a=e[n];e[n]=e[t],e[t]=a}return e},setup:function(){game.setHexColors();var e=cardData,t=e.slice(0),n=t.concat(e);n=game.shuffleCards(n),$(".fa").delay(1500).fadeOut(500),$(".reset").on("click",function(){game.resetGame()}),$(".fa").each(function(e){var t,a,s,o=$.grep(n,function(e){return e.image});t=o[e].id,a=o[e].image,s=a.substring(3,a.length),$(this).addClass("js-card"+t+" "+a+"  data-"+s),$(this).parent().addClass("data-"+s+" js-index"+e),$(this).css({color:o[e].color}),e++})},getUniqueArrayItem:function(){for(var e=1;e<cardData.length;e++)if(-1==$.inArray(e,game.settings.addedCard))return e},cardClick:function(){$(".matchbox").on("click",function(){game.settings.selectedOpt=[],game.settings.selectedOpt.length=0,game.settings.tempArray=[],game.settings.tempArray.length=0,2==game.settings.countOpen?($(this).find(".fa").fadeIn(50),$('.matchbox:not(".found")').each(function(){"table"==$(this).find(".fa").css("display")&&(void 0===game.settings.selectedOpt.length||0==game.settings.selectedOpt.length?game.settings.selectedOpt=$(this).find(".fa").attr("class").split(" "):game.settings.tempArray=$(this).find(".fa").attr("class").split(" "))}),game.settings.selectedOpt[4]==game.settings.tempArray[4]?($(".fa").each(function(){"table"==$(this).css("display")&&$(this).parent().addClass("found")}),game.settings.scoreMatch++):($('.matchbox:not(".found")').each(function(e){"table"==$(this).find(".fa").css("display")&&$(this).find(".fa").delay(400).hide(0)}),game.settings.scoreWrong++),game.settings.selectedOpt=[],game.settings.tempArray=[],game.settings.countOpen=1):game.settings.countOpen<3&&($(this).find(".fa").fadeIn(500),game.settings.countOpen++),$(".score-right").html("Snap'd: "+game.settings.scoreMatch+" "),$(".score-wrong").html("Wrong: "+game.settings.scoreWrong)})}};$(document).ready(function(){game.init()});